{"version":3,"sources":["webpack:///./src/pages/goods/goodsSearch.vue?1263","webpack:///src/pages/goods/goodsSearch.vue","webpack:///./src/pages/goods/goodsSearch.vue?c886","webpack:///./src/pages/goods/goodsSearch.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","slot","staticClass","on","click","add","attrs","aria-hidden","_v","inline","label","model","value","searchForm","callback","$$v","$set","expression","_l","item","name","id","placeholder","type","icon","search","staticStyle","width","data","dataList","size","border","prop","scopedSlots","_u","key","fn","scope","height","src","row","imgUrl","color","_s","marketPrice","salePrice","saleStock","totalStock","status","$event","changeStatus","change","current-page","currentPage","page-sizes","page-size","pageSize","layout","total","totalCount","size-change","pageSizeChange","current-change","pageChange","title","visible","addDialog","update:visible","ref","addForm","label-width","rules","required","message","trim","validator","checkPrice","trigger","checkStock","checkImg","action","on-success","handleSuccess","on-remove","handleRemove","file-list","imgList","list-type","justify","text-align","saveAdd","changeDialog","changeForm","disabled","changeHandleSuccess","changeHandleRemove","saveChange","staticRenderFns","goodsSearchvue_type_script_lang_js_","created","getCategory","mounted","getData","categoryId","code","categoryList","methods","rule","reg","test","_getCategory","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","$http","getCategoryList","sent","stop","apply","arguments","_getData","_callee2","_this$searchForm","parmas","responseData","_context2","limit","page","getGoodsList","console","log","$refs","resetFields","_this","validate","valid","_this$addForm","postAddGoods","file","fileList","response","push","url","pictureUrl","_this2","confirmStatus","$confirm","concat","confirmButtonText","cancelButtonText","then","_callee3","_context3","postUpdateGoodsStatus","catch","Number","objectSpread","_this3","_this3$changeForm","postChangeGoods","val","goods_goodsSearchvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"js/2b48.e127404e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('d2-container',[_c('template',{slot:\"header\"},[_c('div',{staticClass:\"layout_header_plus\",on:{\"click\":_vm.add}},[_c('i',{staticClass:\"fa fa-plus\",attrs:{\"aria-hidden\":\"true\"}}),_c('span',[_vm._v(\"新增\")])])]),_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"inline\":true}},[_c('el-form-item',{attrs:{\"label\":\"商品分类\"}},[_c('el-select',{model:{value:(_vm.searchForm.categoryId),callback:function ($$v) {_vm.$set(_vm.searchForm, \"categoryId\", $$v)},expression:\"searchForm.categoryId\"}},[_c('el-option',{attrs:{\"label\":\"全部\",\"value\":\"0\"}}),_vm._l((_vm.categoryList),function(item){return _c('el-option',{attrs:{\"label\":item.name,\"value\":item.id}})})],2)],1),_c('el-form-item',{attrs:{\"label\":\"商品名称\"}},[_c('el-input',{attrs:{\"placeholder\":\"商品名称\"},model:{value:(_vm.searchForm.name),callback:function ($$v) {_vm.$set(_vm.searchForm, \"name\", $$v)},expression:\"searchForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"状态\"}},[_c('el-select',{model:{value:(_vm.searchForm.status),callback:function ($$v) {_vm.$set(_vm.searchForm, \"status\", $$v)},expression:\"searchForm.status\"}},[_c('el-option',{attrs:{\"label\":\"全部\",\"value\":\"0\"}}),_c('el-option',{attrs:{\"label\":\"已上架\",\"value\":\"1\"}}),_c('el-option',{attrs:{\"label\":\"已下架\",\"value\":\"-1\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.search}},[_vm._v(\"查询\")])],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.dataList,\"size\":\"small\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"商品名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"categoryName\",\"label\":\"商品类型\"}}),_c('el-table-column',{attrs:{\"prop\":\"imgUrl\",\"label\":\"商品图片\",\"width\":\"100px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{staticStyle:{\"width\":\"100%\",\"height\":\"80px\"},attrs:{\"src\":scope.row.imgUrl}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"marketPrice\",\"label\":\"市场价\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"color\":\"green\"}},[_vm._v(\"￥\"+_vm._s(scope.row.marketPrice))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"salePrice\",\"label\":\"销售价\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"￥\"+_vm._s(scope.row.salePrice))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"totalStock\",\"label\":\"库存详情\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(_vm._s(scope.row.saleStock))]),_vm._v(\"/\"+_vm._s(scope.row.totalStock)+\"\\n      \")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.status>0)?_c('div',[_c('el-tag',{attrs:{\"type\":\"success\",\"size\":\"mini\"}},[_vm._v(\"已上架\")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.changeStatus(scope.row)}}},[_vm._v(\"下架\")])],1):_c('div',[_c('el-tag',{attrs:{\"type\":\"danger\",\"size\":\"mini\"}},[_vm._v(\"已下架\")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.changeStatus(scope.row)}}},[_vm._v(\"上架\")])],1)]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.change(scope.row)}}},[_vm._v(\"修改\")])]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[5, 10,15,20],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.totalCount},on:{\"size-change\":_vm.pageSizeChange,\"current-change\":_vm.pageChange}}),_c('el-dialog',{attrs:{\"title\":\"新增商品\",\"visible\":_vm.addDialog},on:{\"update:visible\":function($event){_vm.addDialog=$event}}},[_c('el-form',{ref:\"addForm\",staticClass:\"demo-form-inline\",attrs:{\"model\":_vm.addForm,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"商品名称\",\"prop\":\"name\",\"rules\":[\n          { required: true, message: '商品名称不为空'} ]}},[_c('el-input',{staticStyle:{\"width\":\"85%\"},attrs:{\"placeholder\":\"商品名称\"},model:{value:(_vm.addForm.name),callback:function ($$v) {_vm.$set(_vm.addForm, \"name\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"addForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品分类\"}},[_c('el-select',{staticStyle:{\"width\":\"85%\"},attrs:{\"placeholder\":\"分类标识\"},model:{value:(_vm.addForm.categoryId),callback:function ($$v) {_vm.$set(_vm.addForm, \"categoryId\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"addForm.categoryId\"}},_vm._l((_vm.categoryList),function(item){return _c('el-option',{attrs:{\"label\":item.name,\"value\":item.id}})}))],1),_c('el-form-item',{attrs:{\"label\":\"门市价\",\"prop\":\"marketPrice\",\"rules\":[\n          { required: true, message: '门市价不能为空'},\n          { required: true,  validator: _vm.checkPrice, trigger: 'blur' } ]}},[_c('el-input',{staticStyle:{\"width\":\"85%\"},attrs:{\"placeholder\":\"门市价\"},model:{value:(_vm.addForm.marketPrice),callback:function ($$v) {_vm.$set(_vm.addForm, \"marketPrice\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"addForm.marketPrice\"}})],1),_c('el-form-item',{attrs:{\"label\":\"销售价\",\"prop\":\"salePrice\",\"rules\":[\n            { required: true, message: '销售价不能为空'},\n            { required: true,  validator: _vm.checkPrice, trigger: 'blur' } ]}},[_c('el-input',{staticStyle:{\"width\":\"85%\"},attrs:{\"placeholder\":\"销售价\"},model:{value:(_vm.addForm.salePrice),callback:function ($$v) {_vm.$set(_vm.addForm, \"salePrice\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"addForm.salePrice\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品库存\",\"prop\":\"totalStock\",\"rules\":[\n            { required: true, message: '库存不能为空'},\n            { required: true,  validator: _vm.checkStock, trigger: 'blur' } ]}},[_c('el-input',{staticStyle:{\"width\":\"85%\"},attrs:{\"placeholder\":\"商品库存\"},model:{value:(_vm.addForm.totalStock),callback:function ($$v) {_vm.$set(_vm.addForm, \"totalStock\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"addForm.totalStock\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品图片\",\"prop\":\"imgUrl\",\"rules\":[\n          { required: true,  validator: _vm.checkImg, trigger: 'change' } ]}},[_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"action\":\"/api/v1/uploadImg\",\"on-success\":_vm.handleSuccess,\"on-remove\":_vm.handleRemove,\"file-list\":_vm.addForm.imgList,\"list-type\":\"picture\"}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击上传\")])],1)],1),_c('el-row',{staticClass:\"row-bg\",attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('el-col',{staticStyle:{\"text-align\":\"right\"}},[_c('el-button',{on:{\"click\":function($event){_vm.addDialog = false}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveAdd}},[_vm._v(\"保存\")])],1)],1)],1)],1),_c('el-dialog',{attrs:{\"title\":\"修改商品信息\",\"visible\":_vm.changeDialog},on:{\"update:visible\":function($event){_vm.changeDialog=$event}}},[_c('el-form',{ref:\"changeForm\",staticClass:\"demo-form-inline\",attrs:{\"model\":_vm.changeForm,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"商品名称\",\"prop\":\"name\",\"rules\":[\n          { required: true, message: '商品名称不为空'} ]}},[_c('el-input',{staticStyle:{\"width\":\"85%\"},attrs:{\"placeholder\":\"商品名称\"},model:{value:(_vm.changeForm.name),callback:function ($$v) {_vm.$set(_vm.changeForm, \"name\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"changeForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品分类\"}},[_c('el-select',{staticStyle:{\"width\":\"85%\"},attrs:{\"placeholder\":\"分类标识\"},model:{value:(_vm.changeForm.categoryId),callback:function ($$v) {_vm.$set(_vm.changeForm, \"categoryId\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"changeForm.categoryId\"}},_vm._l((_vm.categoryList),function(item){return _c('el-option',{attrs:{\"label\":item.name,\"value\":item.id}})}))],1),_c('el-form-item',{attrs:{\"label\":\"门市价\",\"prop\":\"marketPrice\",\"rules\":[\n          { required: true, message: '门市价不能为空'},\n          { required: true,  validator: _vm.checkPrice, trigger: 'blur' } ]}},[_c('el-input',{staticStyle:{\"width\":\"85%\"},attrs:{\"placeholder\":\"门市价\"},model:{value:(_vm.changeForm.marketPrice),callback:function ($$v) {_vm.$set(_vm.changeForm, \"marketPrice\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"changeForm.marketPrice\"}})],1),_c('el-form-item',{attrs:{\"label\":\"销售价\",\"prop\":\"salePrice\",\"rules\":[\n          { required: true, message: '销售价不能为空'},\n          { required: true,  validator: _vm.checkPrice, trigger: 'blur' } ]}},[_c('el-input',{staticStyle:{\"width\":\"85%\"},attrs:{\"placeholder\":\"销售价\"},model:{value:(_vm.changeForm.salePrice),callback:function ($$v) {_vm.$set(_vm.changeForm, \"salePrice\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"changeForm.salePrice\"}})],1),_c('el-form-item',{attrs:{\"label\":\"已售数量\"}},[_c('el-input',{staticStyle:{\"width\":\"85%\"},attrs:{\"disabled\":\"\",\"placeholder\":\"商品库存\"},model:{value:(_vm.changeForm.saleStock),callback:function ($$v) {_vm.$set(_vm.changeForm, \"saleStock\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"changeForm.saleStock\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品库存\",\"prop\":\"totalStock\",\"rules\":[\n          { required: true, message: '库存不能为空'},\n          { required: true,  validator: _vm.checkStock, trigger: 'blur' } ]}},[_c('el-input',{staticStyle:{\"width\":\"85%\"},attrs:{\"placeholder\":\"商品库存\"},model:{value:(_vm.changeForm.totalStock),callback:function ($$v) {_vm.$set(_vm.changeForm, \"totalStock\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"changeForm.totalStock\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品图片\",\"prop\":\"imgUrl\",\"rules\":[\n          { required: true,  validator: _vm.checkImg, trigger: 'change' } ]}},[_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"action\":\"/api/v1/uploadImg\",\"on-success\":_vm.changeHandleSuccess,\"on-remove\":_vm.changeHandleRemove,\"file-list\":_vm.changeForm.imgList,\"list-type\":\"picture\"}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击上传\")])],1)],1),_c('el-row',{staticClass:\"row-bg\",attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('el-col',{staticStyle:{\"text-align\":\"right\"}},[_c('el-button',{on:{\"click\":function($event){_vm.changeDialog = false}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveChange}},[_vm._v(\"保存\")])],1)],1)],1)],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <d2-container>\n    <template slot=\"header\">\n      <div class=\"layout_header_plus\" @click=\"add\"><i class=\"fa fa-plus\" aria-hidden=\"true\"></i><span>新增</span></div>\n    </template>\n    <el-form :inline=\"true\"  class=\"demo-form-inline\">\n      <el-form-item label=\"商品分类\">\n        <el-select v-model=\"searchForm.categoryId\">\n          <el-option label=\"全部\" value=\"0\"></el-option>\n          <el-option :label=\"item.name\" :value=\"item.id\" v-for=\"item in categoryList\"></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"商品名称\">\n        <el-input v-model=\"searchForm.name\" placeholder=\"商品名称\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"状态\">\n        <el-select v-model=\"searchForm.status\">\n          <el-option label=\"全部\" value=\"0\"></el-option>\n          <el-option label=\"已上架\" value=\"1\"></el-option>\n          <el-option label=\"已下架\" value=\"-1\"></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"\">\n        <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"search\">查询</el-button>\n      </el-form-item>\n    </el-form>\n\n    <el-table :data=\"dataList\" size=\"small\" border style=\"width: 100%\">\n      <el-table-column prop=\"name\" label=\"商品名称\"></el-table-column>\n      <el-table-column prop=\"categoryName\" label=\"商品类型\"></el-table-column>\n      <el-table-column prop=\"imgUrl\" label=\"商品图片\" width=\"100px\">\n        <template scope=\"scope\">\n          <img :src=\"scope.row.imgUrl\" style=\"width: 100%;height:80px\" >\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"marketPrice\" label=\"市场价\">\n        <template scope=\"scope\">\n          <span style=\"color: green\">￥{{scope.row.marketPrice}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"salePrice\" label=\"销售价\">\n        <template scope=\"scope\">\n          <span style=\"color: red\">￥{{scope.row.salePrice}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"totalStock\" label=\"库存详情\">\n        <template scope=\"scope\">\n          <span style=\"color: red\">{{scope.row.saleStock}}</span>/{{scope.row.totalStock}}\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"status\" label=\"状态\">\n        <template scope=\"scope\">\n          <div v-if=\"scope.row.status>0\">\n            <el-tag type=\"success\" size=\"mini\">已上架</el-tag>\n            <el-button type=\"text\" size=\"mini\" @click=\"changeStatus(scope.row)\">下架</el-button>\n          </div>\n          <div v-else>\n            <el-tag type=\"danger\" size=\"mini\">已下架</el-tag>\n            <el-button type=\"text\" size=\"mini\" @click=\"changeStatus(scope.row)\">上架</el-button>\n          </div>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\">\n        <template scope=\"scope\">\n          <el-button type=\"text\" size=\"small\" @click=\"change(scope.row)\">修改</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <el-pagination\n            @size-change=\"pageSizeChange\"\n            @current-change=\"pageChange\"\n            :current-page=\"currentPage\"\n            :page-sizes=\"[5, 10,15,20]\"\n            :page-size=\"pageSize\"\n            layout=\"total, sizes, prev, pager, next, jumper\"\n            :total=\"totalCount\">\n    </el-pagination>\n\n    <el-dialog\n      title=\"新增商品\"\n      :visible.sync=\"addDialog\">\n      <el-form  :model=\"addForm\" ref=\"addForm\" label-width=\"80px\" class=\"demo-form-inline\">\n        <el-form-item label=\"商品名称\"\n            prop=\"name\"\n            :rules=\"[\n            { required: true, message: '商品名称不为空'},\n          ]\"\n        >\n          <el-input v-model.trim=\"addForm.name\" placeholder=\"商品名称\" style=\"width:85%\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"商品分类\">\n          <el-select v-model.trim=\"addForm.categoryId\" placeholder=\"分类标识\" style=\"width:85%\">\n              <el-option :label=\"item.name\" :value=\"item.id\" v-for=\"item in categoryList\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"门市价\"\n          prop=\"marketPrice\"\n          :rules=\"[\n            { required: true, message: '门市价不能为空'},\n            { required: true,  validator: checkPrice, trigger: 'blur' },\n          ]\"\n        >\n          <el-input v-model.trim=\"addForm.marketPrice\" placeholder=\"门市价\" style=\"width:85%\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"销售价\"\n            prop=\"salePrice\"\n            :rules=\"[\n              { required: true, message: '销售价不能为空'},\n              { required: true,  validator: checkPrice, trigger: 'blur' },\n          ]\"\n        >\n          <el-input v-model.trim=\"addForm.salePrice\" placeholder=\"销售价\" style=\"width:85%\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"商品库存\"\n            prop=\"totalStock\"\n            :rules=\"[\n              { required: true, message: '库存不能为空'},\n              { required: true,  validator: checkStock, trigger: 'blur' },\n          ]\"\n        >\n          <el-input v-model.trim=\"addForm.totalStock\" placeholder=\"商品库存\" style=\"width:85%\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"商品图片\"\n          prop=\"imgUrl\"\n          :rules=\"[\n            { required: true,  validator: checkImg, trigger: 'change' },\n          ]\"\n        >\n          <el-upload\n                  class=\"upload-demo\"\n                  action=\"/api/v1/uploadImg\"\n                  :on-success=\"handleSuccess\"\n                  :on-remove=\"handleRemove\"\n                  :file-list=\"addForm.imgList\"\n                  list-type=\"picture\">\n            <el-button size=\"small\" type=\"primary\">点击上传</el-button>\n          </el-upload>\n        </el-form-item>\n        <el-row type=\"flex\" class=\"row-bg\" justify=\"center\">\n          <el-col style=\"text-align: right\">\n            <el-button   @click=\"addDialog = false\">取消</el-button>\n            <el-button type=\"primary\"  @click=\"saveAdd\">保存</el-button>\n          </el-col>\n        </el-row>\n      </el-form>\n    </el-dialog>\n\n    <el-dialog\n            title=\"修改商品信息\"\n            :visible.sync=\"changeDialog\">\n      <el-form  :model=\"changeForm\" ref=\"changeForm\" label-width=\"80px\" class=\"demo-form-inline\">\n        <el-form-item label=\"商品名称\"\n          prop=\"name\"\n          :rules=\"[\n            { required: true, message: '商品名称不为空'},\n          ]\"\n        >\n          <el-input v-model.trim=\"changeForm.name\" placeholder=\"商品名称\" style=\"width:85%\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"商品分类\">\n          <el-select v-model.trim=\"changeForm.categoryId\" placeholder=\"分类标识\" style=\"width:85%\">\n            <el-option :label=\"item.name\" :value=\"item.id\" v-for=\"item in categoryList\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"门市价\"\n          prop=\"marketPrice\"\n          :rules=\"[\n            { required: true, message: '门市价不能为空'},\n            { required: true,  validator: checkPrice, trigger: 'blur' },\n          ]\"\n        >\n          <el-input v-model.trim=\"changeForm.marketPrice\" placeholder=\"门市价\" style=\"width:85%\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"销售价\"\n          prop=\"salePrice\"\n          :rules=\"[\n            { required: true, message: '销售价不能为空'},\n            { required: true,  validator: checkPrice, trigger: 'blur' },\n          ]\"\n        >\n          <el-input v-model.trim=\"changeForm.salePrice\" placeholder=\"销售价\" style=\"width:85%\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"已售数量\">\n          <el-input v-model.trim=\"changeForm.saleStock\" disabled placeholder=\"商品库存\" style=\"width:85%\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"商品库存\"\n          prop=\"totalStock\"\n          :rules=\"[\n            { required: true, message: '库存不能为空'},\n            { required: true,  validator: checkStock, trigger: 'blur' },\n          ]\"\n        >\n          <el-input v-model.trim=\"changeForm.totalStock\" placeholder=\"商品库存\" style=\"width:85%\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"商品图片\"\n          prop=\"imgUrl\"\n          :rules=\"[\n            { required: true,  validator: checkImg, trigger: 'change' },\n          ]\"\n        >\n          <el-upload\n                  class=\"upload-demo\"\n                  action=\"/api/v1/uploadImg\"\n                  :on-success=\"changeHandleSuccess\"\n                  :on-remove=\"changeHandleRemove\"\n                  :file-list=\"changeForm.imgList\"\n                  list-type=\"picture\">\n            <el-button size=\"small\" type=\"primary\">点击上传</el-button>\n          </el-upload>\n        </el-form-item>\n        <el-row type=\"flex\" class=\"row-bg\" justify=\"center\">\n          <el-col style=\"text-align: right\">\n            <el-button   @click=\"changeDialog = false\">取消</el-button>\n            <el-button type=\"primary\"  @click=\"saveChange\">保存</el-button>\n          </el-col>\n        </el-row>\n      </el-form>\n    </el-dialog>\n  </d2-container>\n</template>\n\n<script>\nexport default {\n  name: 'goodsSearch',\n  created () {\n      this.getCategory()\n  },\n  mounted () {\n    this.getData()\n  },\n  data () {\n      return {\n          searchForm:{\n              categoryId:'0',\n              name:'',\n              code:'',\n              status:'0'\n          },\n          pageSize:5,\n          currentPage:1,\n          totalCount:0,\n          categoryList:[],\n          dataList:[],\n          addForm:{\n              name:'',\n              categoryId:1,\n              marketPrice:'',\n              salePrice:'',\n              imgUrl:'',\n              saleStock:0,\n              totalStock:'',\n              imgList:[]\n          },\n          addDialog: false,\n          changeForm:{\n              id:'',\n              name:'',\n              categoryId:1,\n              marketPrice:'',\n              salePrice:'',\n              imgUrl:'',\n              saleStock:'',\n              totalStock:'',\n              imgList:[]\n          },\n          changeDialog: false\n      }\n  },\n  methods:{\n      checkPrice (rule, value, callback){\n          var  reg = /^\\d+(?=\\.{0,1}\\d+$|$)/\n          if(reg.test(value)){\n              callback()\n          }else{\n              callback('请输入正确的价格！')\n          }\n      },\n      checkImg (rule, value, callback) {\n        if(value==''){\n            callback('请上传该商品图片')\n        }else{\n            callback()\n        }\n      },\n      checkStock (rule,value,callback) {\n          var  reg = /(^[1-9]\\d*$)/\n          if (reg.test(value)){\n              callback()\n          } else {\n              callback('请输入正确的库存！')\n          }\n\n      },\n      async getCategory () {\n        const data = await this.$http.getCategoryList({name:'',code:'',status:1})\n          this.categoryList = data.data.data\n          this.addForm.categoryId = data.data.data[0].id\n      },\n      search () {\n          if(this.currentPage != 1){\n              this.currentPage = 1\n          }  else{\n              this.getData()\n          }\n      },\n      async getData () {\n          const {categoryId,name,status} = this.searchForm\n          const parmas = {\n              categoryId,\n              name,\n              status,\n              limit:this.pageSize,\n              page:this.currentPage\n          }\n          const responseData = await this.$http.getGoodsList(parmas)\n          console.log(responseData)\n          this.dataList = responseData.data.data\n          this.totalCount = responseData.data.totalCount\n      },\n      add(){\n          this.addDialog = true\n          this.$refs.addForm.resetFields()\n      },\n      saveAdd () {\n          this.$refs.addForm.validate((valid) => {\n              if (valid) {\n                  const {name,categoryId,imgUrl,marketPrice,salePrice,totalStock} = this.addForm\n                  const parmas = {name,categoryId,imgUrl,marketPrice,salePrice,totalStock}\n                  this.$http.postAddGoods(parmas)\n                  this.getData()\n                  this.addDialog = false\n              } else {\n                  return false;\n              }\n          });\n      },\n      handleRemove(file, fileList) {\n          this.addForm.imgList = fileList\n          this.addForm.imgUrl = ''\n      },\n      handleSuccess(response, file, fileList) {\n          this.addForm.imgList.push({url:response.data.pictureUrl})\n          this.addForm.imgUrl = response.data.pictureUrl\n      },\n      changeHandleRemove(file, fileList) {\n          this.changeForm.imgList = fileList\n          this.changeForm.imgUrl = ''\n      },\n      changeHandleSuccess(response, file, fileList) {\n          this.changeForm.imgList.push({url:response.data.pictureUrl})\n          this.changeForm.imgUrl = response.data.pictureUrl\n      },\n      // 修改商品状态\n      changeStatus (item) {\n          const confirmStatus = item.status>0?'下架':'上架'\n          this.$confirm(`您将${confirmStatus}商品《${item.name}》, 是否继续?`, '提示', {\n              confirmButtonText: '确定',\n              cancelButtonText: '取消',\n              type: 'warning'\n          }).then(async () => {\n              await this.$http.postUpdateGoodsStatus({id:item.id,status:item.status==1?-1:1})\n              this.getData()\n          }).catch(() => {\n             return\n          })\n      },\n      change (item) {\n          this.changeDialog = true\n          const imgList = [{url:item.imgUrl}]\n          const categoryId = Number(item.categoryId)\n          this.changeForm ={...item,imgList,categoryId}\n      },\n      saveChange () {\n          this.$refs.changeForm.validate((valid) => {\n              if (valid) {\n                  const {name,categoryId,imgUrl,marketPrice,salePrice,totalStock,id} = this.changeForm\n                  const parmas = {name,categoryId,imgUrl,marketPrice,salePrice,totalStock,id}\n                  this.$http.postChangeGoods(this.changeForm)\n                  this.getData()\n                  this.changeDialog = false\n              } else {\n                  return false;\n              }\n          });\n      },\n      pageSizeChange(val,page){\n          this.pageSize = val\n          this.getData()\n      },\n      pageChange(val){\n          this.currentPage = val\n          this.getData()\n      },\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./goodsSearch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./goodsSearch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./goodsSearch.vue?vue&type=template&id=49faa2a0&\"\nimport script from \"./goodsSearch.vue?vue&type=script&lang=js&\"\nexport * from \"./goodsSearch.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"goodsSearch.vue\"\nexport default component.exports"],"sourceRoot":""}