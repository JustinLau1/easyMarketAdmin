(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ad67"],{ad67:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("d2-container",[a("template",{slot:"header"},[a("div",{staticClass:"layout_header_plus",on:{click:e.add}},[a("i",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}}),a("span",[e._v("新增")])])]),a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{attrs:{placeholder:"分类名称"},model:{value:e.searchForm.name,callback:function(t){e.$set(e.searchForm,"name",t)},expression:"searchForm.name"}})],1),a("el-form-item",{attrs:{label:"标识"}},[a("el-input",{attrs:{placeholder:"分类标识"},model:{value:e.searchForm.code,callback:function(t){e.$set(e.searchForm,"code",t)},expression:"searchForm.code"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{model:{value:e.searchForm.status,callback:function(t){e.$set(e.searchForm,"status",t)},expression:"searchForm.status"}},[a("el-option",{attrs:{label:"全部",value:"0"}}),a("el-option",{attrs:{label:"有效",value:"1"}}),a("el-option",{attrs:{label:"禁用",value:"-1"}})],1)],1),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("查询")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.dataList,size:"small",border:""}},[a("el-table-column",{attrs:{prop:"name",label:"分类名称"}}),a("el-table-column",{attrs:{prop:"code",label:"分类标识"}}),a("el-table-column",{attrs:{label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(e.$utils.formateDate(t.row.createTime,1))+"\n            ")]}}])}),a("el-table-column",{attrs:{label:"更新时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(e.$utils.formateDate(t.row.updateTime,1))+"\n            ")]}}])}),a("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(t.row.status>0?"有效":"禁用")+"\n            ")]}}])}),a("el-table-column",{attrs:{label:"操作",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.change(t.row)}}},[e._v("修改")])]}}])})],1),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[5,10,15,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.pageSizeChange,"current-change":e.pageChange}}),a("el-dialog",{attrs:{title:"新增商品分类",visible:e.addDialog},on:{"update:visible":function(t){e.addDialog=t}}},[a("el-form",{ref:"addForm",staticClass:"demo-form-inline",attrs:{model:e.addForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"名称",prop:"name",rules:[{required:!0,message:"分类名称不为空"}]}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"分类名称"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name","string"===typeof t?t.trim():t)},expression:"addForm.name"}})],1),a("el-form-item",{attrs:{label:"标识",prop:"code",rules:[{required:!0,message:"分类标识不为空"}]}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"分类标识"},model:{value:e.addForm.code,callback:function(t){e.$set(e.addForm,"code","string"===typeof t?t.trim():t)},expression:"addForm.code"}})],1),a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"center"}},[a("el-col",{staticStyle:{"text-align":"right"}},[a("el-button",{on:{click:function(t){e.addDialog=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.saveAdd}},[e._v("保存")])],1)],1)],1)],1),a("el-dialog",{attrs:{title:"修改商品分类",visible:e.changeDialog},on:{"update:visible":function(t){e.changeDialog=t}}},[a("el-form",{ref:"changeForm",attrs:{model:e.changeForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"名称",prop:"name",rules:[{required:!0,message:"分类名称不为空"}]}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"分类名称"},model:{value:e.changeForm.name,callback:function(t){e.$set(e.changeForm,"name","string"===typeof t?t.trim():t)},expression:"changeForm.name"}})],1),a("el-form-item",{attrs:{label:"标识",prop:"code",rules:[{required:!0,message:"分类标识不为空"}]}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"分类标识"},model:{value:e.changeForm.code,callback:function(t){e.$set(e.changeForm,"code","string"===typeof t?t.trim():t)},expression:"changeForm.code"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.changeForm.status,callback:function(t){e.$set(e.changeForm,"status",t)},expression:"changeForm.status"}},[a("el-radio",{attrs:{label:1}},[e._v("有效")]),a("el-radio",{attrs:{label:-1}},[e._v("禁用")])],1)],1),a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"center"}},[a("el-col",{staticStyle:{"text-align":"right"}},[a("el-button",{on:{click:function(t){e.changeDialog=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.saveChange}},[e._v("保存")])],1)],1)],1)],1)],2)},o=[],l=(a("7f7f"),a("96cf"),a("3040")),s={name:"goodsCategory",data:function(){return{searchForm:{name:"",code:"",status:"0"},addForm:{name:"",code:""},addDialog:!1,changeForm:{name:"",code:"",id:"",status:""},changeDialog:!1,dataList:[],totalCount:0,currentPage:1,pageSize:5}},created:function(){this.getData()},methods:{search:function(){1!=this.currentPage?this.currentPage=1:this.getData()},getData:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,a,r,o,l,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.searchForm,a=t.name,r=t.code,o=t.status,l={name:a,code:r,status:o,limit:this.pageSize,page:this.currentPage},e.next=4,this.$http.getCategoryList(l);case 4:s=e.sent,console.log(s),this.dataList=s.data.data,this.totalCount=s.data.totalCount;case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),pageSizeChange:function(e,t){this.pageSize=e,this.getData()},pageChange:function(e){this.currentPage=e,this.getData()},add:function(){this.addDialog=!0,this.$refs.addForm.resetFields()},saveAdd:function(){var e=this;this.$refs.addForm.validate(function(t){if(!t)return!1;var a=e.addForm,r=a.name,o=a.code,l={name:r,code:o};e.$http.postAddCategory(l),e.getData(),e.addDialog=!1})},change:function(e){this.changeDialog=!0;var t=e.name,a=e.code,r=e.id,o=e.status;this.changeForm={name:t,code:a,id:r,status:o}},saveChange:function(){var e=this;this.$refs.changeForm.validate(function(t){if(!t)return!1;var a=e.changeForm,r=a.name,o=a.code,l=a.id,s=a.status,n={name:r,code:o,id:l,status:s};e.$http.postChangeCatePory(n),e.getData(),e.changeDialog=!1})}}},n=s,i=a("2877"),c=Object(i["a"])(n,r,o,!1,null,null,null);c.options.__file="marketHome.vue";t["default"]=c.exports}}]);
//# sourceMappingURL=ad67.a3c11380.js.map